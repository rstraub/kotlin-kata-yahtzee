/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package kata.base

import kata.base.Category.*

class Yahtzee {
    companion object {
        fun score(
            category: Category,
            dice1: Int,
            dice2: Int,
            dice3: Int,
            dice4: Int,
            dice5: Int
        ): Int {
            val dices = listOf(dice1, dice2, dice3, dice4, dice5)

            val result = when (category) {
                CHANCE -> ::chance
                YAHTZEE -> ::yahtzee
                ACES -> ::aces
                TWOS -> ::twos
                THREES -> ::threes
            }

            return result(dices)
        }

        private fun aces(dices: List<Int>) = numerics(dices, 1)
        private fun twos(dices: List<Int>) = numerics(dices, 2)
        private fun threes(dices: List<Int>) = numerics(dices, 3)
        private fun numerics(dices: List<Int>, score: Int) = dices.filter { it == score }.sum()

        private fun yahtzee(dices: List<Int>) =
            if (dices.toSet().size == 1) 50
            else 0

        private fun chance(dices: List<Int>) = dices.sum()
    }
}


fun main() = print("Hello, Yahtzee!")
